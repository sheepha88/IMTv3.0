# iCRF PDF 내보내기 시스템

Participant들의 iCRF 데이터와 audit trail을 하나의 PDF로 출력할 수 있는 웹 애플리케이션 프로토타입입니다.

## 주요 기능

### 1. Participant 선택
- 참가자 목록에서 개별 선택 또는 전체 선택 가능
- 참가자 ID나 이름으로 검색 기능
- 선택된 참가자 수 실시간 표시

### 2. 내보내기 옵션 설정
- **포함할 데이터 선택:**
  - iCRF 데이터 (인구통계학, 의료 기록, 검사 결과)
  - Audit Trail (데이터 변경 이력)
  - 메타데이터 (기본 정보)

- **PDF 설정:**
  - 페이지 크기 (A4, Letter, Legal)
  - 페이지 번호 포함 여부
  - 헤더/푸터 포함 여부

### 3. 미리보기 기능
- 선택된 참가자들의 데이터를 미리보기로 확인
- 설정한 옵션에 따라 미리보기 내용 구성
- 미리보기 지우기 기능

### 4. PDF 내보내기
- 선택된 참가자들의 데이터를 하나의 PDF로 통합
- 설정한 옵션에 따라 PDF 구성
- 로딩 모달로 진행 상황 표시

## 파일 구조

```
icrf-pdf-export/
├── index.html          # 메인 HTML 파일
├── styles.css          # 스타일시트
├── script.js           # JavaScript 기능
└── README.md           # 프로젝트 설명서
```

## 사용 방법

1. **브라우저에서 `index.html` 파일을 열어주세요.**

2. **Participant 선택:**
   - 참가자 목록에서 내보낼 참가자들을 체크박스로 선택
   - "전체 선택" 체크박스로 모든 참가자 선택/해제 가능
   - 검색창에 참가자 ID나 이름을 입력하여 필터링

3. **내보내기 옵션 설정:**
   - "포함할 데이터" 섹션에서 원하는 데이터 유형 선택
   - "PDF 설정" 섹션에서 페이지 크기와 기타 옵션 설정

4. **미리보기 확인:**
   - "미리보기 생성" 버튼을 클릭하여 선택된 참가자들의 데이터 미리보기
   - "미리보기 지우기" 버튼으로 미리보기 초기화

5. **PDF 내보내기:**
   - "PDF 내보내기" 버튼을 클릭하여 최종 PDF 생성
   - 로딩 모달이 표시되며, 완료 후 자동으로 파일 다운로드

## 샘플 데이터

프로토타입에는 다음과 같은 샘플 데이터가 포함되어 있습니다:

- **5명의 참가자** (P001~P005)
- **iCRF 데이터:**
  - 인구통계학 (나이, 성별, 키, 체중)
  - 의료 기록 (당뇨병, 고혈압)
  - 검사 결과 (혈당, HbA1c, 콜레스테롤)

- **Audit Trail:**
  - 데이터 입력/수정/검증 이력
  - 사용자, 날짜, 필드, 이전값/새값 정보

## 기술 스택

- **HTML5:** 웹 페이지 구조
- **CSS3:** 스타일링 및 반응형 디자인
- **JavaScript (ES6+):** 동적 기능 구현
- **Vanilla JS:** 외부 라이브러리 없이 순수 JavaScript 사용

## 향후 개선 사항

1. **실제 PDF 생성:**
   - jsPDF 또는 PDFKit 라이브러리 통합
   - 실제 PDF 파일 생성 및 다운로드

2. **데이터 연동:**
   - 실제 API에서 참가자 데이터 가져오기
   - 데이터베이스 연동

3. **고급 기능:**
   - 필터링 및 정렬 기능
   - 사용자 권한 관리
   - 내보내기 이력 관리

4. **UI/UX 개선:**
   - 드래그 앤 드롭 기능
   - 키보드 단축키 지원
   - 다크 모드 지원

## 브라우저 호환성

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 라이선스

이 프로토타입은 교육 및 개발 목적으로 제작되었습니다.

